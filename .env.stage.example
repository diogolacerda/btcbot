# BTC Grid Bot - Stage Environment
# IMPORTANTE: Usar apenas credenciais de DEMO/VST neste ambiente
#
# Copie este arquivo para .env.stage e configure suas credenciais:
#   cp .env.stage.example .env.stage
#
# No homeserver, copie para /opt/btcbot/.env.stage

# =============================================================================
# Docker Hub Configuration
# =============================================================================
DOCKER_USERNAME=seu_usuario_dockerhub

# =============================================================================
# PostgreSQL Configuration
# =============================================================================
POSTGRES_USER=btcbot
POSTGRES_PASSWORD=ALTERE_PARA_SENHA_FORTE_STAGE
POSTGRES_DB=btcbot_stage

# =============================================================================
# BingX API Credentials (DEMO/VST APENAS)
# =============================================================================
# ATENCAO: Use APENAS credenciais de DEMO/Virtual Standard Token aqui
# Nunca use credenciais de producao no ambiente Stage
BINGX_API_KEY=sua_api_key_demo_aqui
BINGX_SECRET_KEY=sua_secret_key_demo_aqui

# =============================================================================
# Trading Mode
# =============================================================================
# OBRIGATORIO: Deve ser "demo" para ambiente Stage
# "demo" = Virtual Standard Token (VST) - dinheiro virtual
# "live" = Dinheiro real (NUNCA usar em Stage!)
TRADING_MODE=demo

# =============================================================================
# Trading Settings
# =============================================================================
SYMBOL=BTC-USDT
LEVERAGE=10

# =============================================================================
# Grid Settings
# =============================================================================
GRID_SPACING_TYPE=fixed          # "fixed" (valor em $) ou "percent"
GRID_SPACING_VALUE=100           # $100 se fixed, 0.1 se percent (0.1%)
GRID_RANGE_PERCENT=5             # Ordens ate 5% abaixo do preco atual
TAKE_PROFIT_PERCENT=1.0          # 1% de take profit por ordem
ORDER_SIZE_USDT=100              # Valor em USDT por ordem
MAX_ORDERS=10                    # Numero maximo de ordens no grid
GRID_ANCHOR_MODE=none            # "none" (desabilitado) ou "hundred" (ancorar em centenas)
GRID_ANCHOR_VALUE=100            # Valor de ancoragem em USD (ex: 100 para $100, $200, etc)

# =============================================================================
# MACD Settings
# =============================================================================
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9
MACD_TIMEFRAME=1h                # 1m, 5m, 15m, 1h, 4h, 1d

# =============================================================================
# Dynamic TP Settings (BE-007)
# =============================================================================
# Adjusts TP automatically based on funding rate to cover holding costs
TP_DYNAMIC_ENABLED=false         # Enable dynamic TP adjustment
TP_BASE_PERCENT=0.3              # Base TP percentage
TP_MIN_PERCENT=0.3               # Minimum TP (never below this)
TP_MAX_PERCENT=1.0               # Maximum TP (cap)
TP_SAFETY_MARGIN=0.05            # Extra margin above funding cost (%)
TP_CHECK_INTERVAL_MIN=60         # Check positions every N minutes

# =============================================================================
# Reactivation Mode
# =============================================================================
# "immediate" = Reativa ordens imediatamente apos execucao
# "full_cycle" = Aguarda ciclo completo antes de reativar
REACTIVATION_MODE=immediate

# =============================================================================
# Health Check
# =============================================================================
# Porta do endpoint /health usado por Docker, Portainer e Watchtower
HEALTH_PORT=8080

# =============================================================================
# Logging
# =============================================================================
# Nivel de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
# DEBUG recomendado para Stage para facilitar troubleshooting
LOG_LEVEL=DEBUG

# =============================================================================
# Timezone
# =============================================================================
# Timezone para logs e timestamps
TZ=America/Sao_Paulo

# =============================================================================
# Backup Configuration
# =============================================================================
# Numero de backups a manter (o script remove os mais antigos automaticamente)
BACKUP_RETENTION=30
