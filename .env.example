# BingX API Credentials
BINGX_API_KEY=your_api_key_here
BINGX_SECRET_KEY=your_secret_key_here

# Trading Mode
# Use "demo" for VST (virtual tokens) or "live" for real trading
TRADING_MODE=demo

# Trading Settings
# Symbol is always BTC-USDT, the demo/live mode is controlled by TRADING_MODE
SYMBOL=BTC-USDT
LEVERAGE=10

# Margin Mode
# CROSSED: All positions share the same margin (higher risk of total liquidation)
# ISOLATED: Each position has separate margin (limits losses to allocated margin)
# Note: Cannot change margin mode when positions are open
MARGIN_MODE=CROSSED

# Grid Settings
GRID_SPACING_TYPE=fixed          # "fixed" (valor em $) ou "percent"
GRID_SPACING_VALUE=100           # $100 se fixed, 0.1 se percent (0.1%)
GRID_RANGE_PERCENT=5             # Ordens até 5% abaixo do preço atual
TAKE_PROFIT_PERCENT=1.0          # 1% de take profit por ordem
ORDER_SIZE_USDT=100              # Valor em USDT por ordem (ex: 100 = $100 por ordem)
MAX_TOTAL_ORDERS=10              # Limite total (ordens LIMIT pendentes + posições abertas)

# Grid Anchoring (ancorar ordens em níveis de preço limpos)
GRID_ANCHOR_MODE=none            # "none" (desabilitado) ou "hundred" (ancorar em centenas)
GRID_ANCHOR_VALUE=100            # Valor de ancoragem em USD (ex: 100 para $100, $200, etc)

# MACD Settings
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9
MACD_TIMEFRAME=1h                # 1m, 5m, 15m, 1h, 4h, 1d

# Dynamic TP Settings (BE-007)
# Adjusts TP automatically based on funding rate to cover holding costs
TP_DYNAMIC_ENABLED=false         # Enable dynamic TP adjustment
TP_BASE_PERCENT=0.3              # Base TP percentage
TP_MIN_PERCENT=0.3               # Minimum TP (never below this)
TP_MAX_PERCENT=1.0               # Maximum TP (cap)
TP_SAFETY_MARGIN=0.05            # Extra margin above funding cost (%)
TP_CHECK_INTERVAL_MIN=60         # Check positions every N minutes

# Reactivation Mode
REACTIVATION_MODE=immediate      # "immediate" ou "full_cycle"

# Database Settings (PostgreSQL)
# Para desenvolvimento local, use os defaults abaixo
# Para stage/prod, configure conforme o ambiente
POSTGRES_USER=btcbot
POSTGRES_PASSWORD=btcbot_dev
POSTGRES_DB=btcbot_dev
# Porta 5433 para evitar conflito com PostgreSQL local na 5432
DATABASE_URL=postgresql://btcbot:btcbot_dev@localhost:5433/btcbot_dev  # pragma: allowlist secret

# JWT Authentication Settings (BE-API-002)
# SECRET_KEY: Use a strong random key for production (e.g., openssl rand -hex 32)
SECRET_KEY=your-secret-key-change-in-production  # pragma: allowlist secret
ALGORITHM=HS256
# Access token expiration in minutes (43200 = 30 days)
ACCESS_TOKEN_EXPIRE_MINUTES=43200

# CORS Settings (BE-FE-001)
# Comma-separated list of allowed origins for CORS
# Local: http://localhost:3000
# Stage: http://192.168.68.99:3001
# Prod: http://192.168.68.99:3000
CORS_ORIGINS=http://localhost:3000,http://192.168.68.99:3001,http://192.168.68.99:3000
